<!DOCTYPE html>
<html ng-app = 'myApp'>
  <head>
<!--Import Google Font -->
  <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <!--Import materialize.css-->
      <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>

      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta charset="utf-8">
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular.js"></script> 
	<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.0/angular-route.js"></script> 
	<script src="https://www.gstatic.com/firebasejs/3.0.3/firebase.js"></script>
	<script>
	  // Initialize Firebase
	  var config = {
		apiKey: "AIzaSyBTY8XluWdgHFadZLwhlCiD5aupBBTkezU",
		authDomain: "chatroom-60d2f.firebaseapp.com",
		databaseURL: "https://chatroom-60d2f.firebaseio.com",
		storageBucket: "chatroom-60d2f.appspot.com",
	  };
	  firebase.initializeApp(config);
	</script>
    <script src="https://cdn.firebase.com/libs/angularfire/2.0.1/angularfire.min.js"></script>
	<script type="text/javascript" src = "/js/app.js"></script> 
	<title>Welcome to ChatRoom</title>

  </head>


  <body ng-controller="chatController" style="background-color:#eee;">
  
	  <nav>
		<div class="nav-wrapper">
		  <a href="#" class="brand-logo">Logo</a>
		  <ul id="nav-mobile" class="right hide-on-med-and-down">
			<li><a href="#">one</a></li>
			<li><a href="/home.html">ChatRoom</a></li>
			<li ng-hide="firebaseUser"><a href="/login.html">Login</a></li>
			<li ng-show="firebaseUser"><a href="/login.html">Account</a></li>
		  </ul>
		</div>
	  </nav>
  <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script type="text/javascript" src="js/materialize.min.js"></script>
	<div class="container">  
	<h2>{{ message }}</h2>
	<div ng-hide="firebaseUser">
		<p>Please Log In!</p>
	</div>
	<div class = "card">
	<div class="card-content">
	<ul>
    	<li ng-repeat="message in messages">
			<div class = "row valign">
		    	<div class ="col s2">{{ message.user }}:</div>
			        <!-- edit a message -->
			        <div class ="col s8"><input ng-model="message.text" ng-change="messages.$save(message)"/></div>
			        <!-- delete a message -->
			        <div class ="col s1"><button class="waves-effect waves-teal btn-flat" ng-click="messages.$remove(message)">Delete</button></div>
		    </div>
	    </li>
    </ul>
    <!-- push a new message onto the array -->
    <div class="divider" style="margin-bottom: 1cm;"></div>
    <form ng-submit="addMessage()">
    <div class = "row">
    <div class = "col s10">
      <input ng-model="newMessageText" /></div>
      <div class = "col s2"><button class="waves-effect waves-light btn" type="submit">Submit<i class="material-icons right">send</i></button></div>
      </div>
    </form>
	</div>
	</div>
	</div>
	</body>

	<footer class="page-footer">
          <div class="container">
            <div class="row">
              <div class="col l6 s12">
                <h5 class="white-text">ChatRoom</h5>
                <p class="grey-text text-lighten-4">A simple ChatRoom in the style of IRC rooms, requiring only a google login. Designed using Firebase, Angular and MaterializeCSS.</p>
              </div>
              <div class="col l4 offset-l2 s12">
                <h5 class="white-text">Links</h5>
                <ul>
                  <li><a class="grey-text text-lighten-3" href="#!">Firebase</a></li>
                  <li><a class="grey-text text-lighten-3" href="#!">Angular</a></li>
                  <li><a class="grey-text text-lighten-3" href="#!">MaterializeCSS</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="footer-copyright">
            <div class="container">
            Â© 2016 Copyright Matthew Wang and Loren Yeung
            <a class="grey-text text-lighten-4 right" href="#!">More Links</a>
            </div>
          </div>
        </footer>
</html>
